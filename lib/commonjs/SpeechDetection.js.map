{"version":3,"names":["_bufferutils","require","_reactNativeFs","_interopRequireDefault","_eventemitter","_RNRecordSpeech","_lamejs","_reactNative","e","__esModule","default","defaultSpeechRecorderConfig","exports","detectionMethod","detectionParams","threshold","outputFormat","wavFile","continuousRecording","onlyRecordOnSpeaking","timeSlice","silenceTimeout","minimumSpeechDuration","debug","features","noiseReduction","echoCancellation","normalization","inputGain","generatePseudoUUID","replace","c","r","Math","random","v","toString","INTRO_OUTRO_CHUNK_COUNT","SpeechDetection","EventEmitter","constructor","config","chunks","tempChunks","trailingChunksToAdd","speakingState","encoder","currentSpeakingStartTime","silenceStartTime","speaking","recording","listeningForSpeech","speakingLevelsDetected","finalDataCallbackTimeout","mostRecentSpeakingDuration","longestSilenceDuration","unregisterCallback","sampleFormat","init","Error","RNRecordSpeech","setupEventListeners","on","onFrame","removeEventListeners","data","onDataAvailable","audioData","isSpeaking","speechProbability","console","log","frameNumber","info","processSpeechEvent","startRecording","recordingInfo","start","channels","recordingFormat","sampleRate","lamejs","Mp3Encoder","emit","onStartSpeaking","err","error","stopRecording","length","setSpeakingState","setFinalDataCallback","onStopRecording","stop","onSendSpeechData","startSpeechTimer","cancelSpeechTimer","speechTimer","setTimeout","clearTimeout","onSilenceTimeout","chunksToAdd","slice","startSilenceTimer","cancelSilenceTimer","Date","now","silenceTimer","updateLongestSilence","currentSilenceDuration","currentTime","cancelFinalDataCallback","speakingDuration","onStopSpeaking","state","addChunkToCircularBuffer","chunk","shift","push","addChunkToRecording","createFileObjectFromBase64","audioBuffer","mimeType","path","RNFS","CachesDirectoryPath","fileName","rawBufferFile","mime_type","dirExists","exists","mkdir","writeFile","fileUri","Platform","OS","file","uri","name","type","allChunks","base64Data","join","normalizeAudio","int16Base64Buffer","convertFloat32ToInt16","int16ArrayBuffer","base64ToArrayBuffer","int16Array","Int16Array","mp3buffer","encodeBuffer","base64inputbuffer","arrayBufferToBase64","fileBlob","size","calculateBase64ByteLength","source","isFinal","silenceDuration","base64String","padding","endsWith","cleanup","flush"],"sourceRoot":"../../src","sources":["SpeechDetection.js"],"mappings":"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","ignoreList":[]}
